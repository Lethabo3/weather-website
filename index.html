<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clearsky — Neurosic</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; color: #1d1d1f; line-height: 1.6; position: relative; min-height: 100vh; background: #fafafa; }
        
        .dot-pattern {
            position: fixed;
            inset: 0;
            z-index: 0;
            background-image: radial-gradient(circle, rgba(0,0,0,0.15) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .fog-gradient {
            position: fixed;
            inset: 0;
            z-index: 1;
            background: 
                radial-gradient(ellipse 80% 50% at 20% 20%, rgba(173, 216, 230, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 30%, rgba(255, 228, 196, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse 70% 50% at 50% 80%, rgba(230, 230, 250, 0.35) 0%, transparent 50%),
                linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.95) 100%);
            pointer-events: none;
        }
        
        a { color: #007aff; text-decoration: none; }
        a:hover { text-decoration: underline; }

        nav { padding: 20px 32px; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; background: rgba(250,250,250,0.7); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); z-index: 100; }
        .app-store-nav { display: flex; align-items: center; }
        .app-store-nav img { height: 28px; }
        .logo { font-weight: 600; font-size: 20px; color: #1d1d1f; letter-spacing: -0.5px; }
        .nav-links { display: flex; gap: 32px; font-size: 15px; }
        .nav-links a { color: #666; transition: color 0.2s; }
        .nav-links a:hover { color: #1d1d1f; text-decoration: none; }

        main { max-width: 640px; margin: 0 auto; padding: 80px 24px; position: relative; z-index: 10; }
        h1 { font-size: 36px; font-weight: 600; margin-bottom: 16px; letter-spacing: -1px; }
        h2 { font-size: 18px; font-weight: 600; margin: 36px 0 12px; color: #1d1d1f; }
        p { color: #555; margin-bottom: 16px; }
        ul { margin: 0 0 16px 20px; color: #555; }
        li { margin-bottom: 8px; }
        .meta { font-size: 14px; color: #999; margin-bottom: 40px; }

        .hero { text-align: left; padding: 0 24px; position: relative; z-index: 10; min-height: calc(100vh - 60px); display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .hero h1 { font-size: 56px; margin-bottom: 16px; letter-spacing: -2px; background: linear-gradient(135deg, #1d1d1f 0%, #555 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .hero p { font-size: 20px; color: #666; margin-bottom: 40px; max-width: 400px; margin-left: auto; margin-right: auto; }
        
        .weather-display { width: 100%; max-width: 420px; padding: 20px; }
        
        .weather-location-line { display: flex; align-items: baseline; margin-bottom: 5px; }
        .weather-city { font-size: 28px; font-weight: 500; }
        .weather-comma { font-size: 28px; font-weight: 500; }
        .weather-condition { font-size: 18px; color: #888; font-weight: 400; margin-left: 5px; }
        .weather-temp { font-size: 72px; font-weight: 400; letter-spacing: -2px; }
        
        .weather-content { animation: fadeInBlur 0.8s ease-out forwards; }
        @keyframes fadeInBlur {
            0% { filter: blur(8px); opacity: 0; }
            100% { filter: blur(0); opacity: 1; }
        }
        
        .skeleton { background: rgba(0,0,0,0.08); border-radius: 4px; animation: pulse 1.5s infinite; }
        .skeleton-location { width: 75%; height: 28px; margin-bottom: 8px; }
        .skeleton-temp { width: 35%; height: 72px; }
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 0.3; }
        }
        
        .weather-error p { font-size: 18px; color: #555; margin-bottom: 16px; }
        .weather-error button { padding: 14px 28px; background: #1d1d1f; color: #fff; border: none; border-radius: 12px; font-size: 16px; font-weight: 500; cursor: pointer; }
        .weather-error button:hover { background: #333; }
        
        .app-store { display: inline-block; transition: transform 0.2s, opacity 0.2s; }
        .app-store:hover { transform: scale(1.05); opacity: 0.9; }
        .app-store img { height: 52px; }
        
        .app-store-footer { display: inline-block; margin: 16px 0; transition: opacity 0.2s; }
        .app-store-footer:hover { opacity: 0.7; }
        .app-store-footer img { height: 32px; }

        .contact-form { margin-top: 32px; background: rgba(255,255,255,0.6); backdrop-filter: blur(10px); padding: 32px; border-radius: 20px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-size: 14px; font-weight: 500; margin-bottom: 8px; color: #333; }
        input, textarea, select { width: 100%; padding: 14px 16px; font-size: 16px; border: none; border-radius: 12px; font-family: inherit; background: rgba(0,0,0,0.04); transition: background 0.2s, box-shadow 0.2s; }
        input:focus, textarea:focus, select:focus { outline: none; background: #fff; box-shadow: 0 0 0 3px rgba(0,122,255,0.15); }
        textarea { min-height: 120px; resize: vertical; }
        button { padding: 14px 28px; background: #1d1d1f; color: #fff; border: none; border-radius: 12px; font-size: 16px; font-weight: 500; cursor: pointer; transition: transform 0.2s, background 0.2s; }
        button:hover { background: #333; transform: translateY(-1px); }

        footer { padding: 16px 32px; text-align: left; font-size: 13px; color: #999; position: fixed; bottom: 0; left: 0; right: 0; z-index: 10; }
        .footer-links { margin-bottom: 16px; display: flex; justify-content: center; gap: 32px; }
        .footer-links a { color: #666; transition: color 0.2s; }
        .footer-links a:hover { color: #1d1d1f; text-decoration: none; }

        .page { display: none; }
        .page.active { display: block; }
        
        .weather-icon { font-size: 64px; margin-bottom: 24px; filter: drop-shadow(0 4px 12px rgba(0,0,0,0.1)); }
        
        .features { display: flex; gap: 16px; justify-content: center; margin-top: 48px; flex-wrap: wrap; }
        .feature { background: rgba(255,255,255,0.5); backdrop-filter: blur(10px); padding: 16px 24px; border-radius: 14px; font-size: 14px; color: #555; display: flex; align-items: center; gap: 8px; }
        .feature-dot { width: 8px; height: 8px; border-radius: 50%; background: linear-gradient(135deg, #007aff, #5ac8fa); }
    </style>
</head>
<body>
    <div class="dot-pattern"></div>
    <nav>
        <a href="#" class="logo" onclick="showPage('home')">Clearsky</a>
        <div class="nav-links">
            <a href="https://apps.apple.com" class="app-store-nav">
                <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Download on the App Store">
            </a>
            <a href="#" onclick="showPage('home')">Home</a>
            <a href="#" onclick="showPage('privacy')">Privacy</a>
            <a href="#" onclick="showPage('support')">Support</a>
        </div>
    </nav>

    <!-- Home -->
    <div id="home" class="page active">
        <div class="hero">
            <div class="weather-display">
                <div class="weather-loading" id="weatherLoading">
                    <div class="skeleton skeleton-location"></div>
                    <div class="skeleton skeleton-temp"></div>
                </div>
                <div class="weather-content" id="weatherContent" style="display: none;">
                    <div class="weather-location-line">
                        <span class="weather-city" id="homeCity"></span><span class="weather-comma">,</span><span class="weather-condition" id="homeCondition"></span>
                    </div>
                    <div class="weather-temp" id="homeTemp"></div>
                </div>
                <div class="weather-error" id="weatherError" style="display: none;">
                    <p id="weatherErrorMsg"></p>
                    <button onclick="getWeather()">Try again</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy (Required by Apple) -->
    <div id="privacy" class="page">
        <main>
            <h1>Privacy Policy</h1>
            <p class="meta">Last updated: December 2024</p>

            <p>Neurosic is committed to protecting your privacy. This policy explains how we handle your information.</p>

            <h2>Data Collection</h2>
            <p>Clearsky collects location data solely to provide weather information for your current location. This data is:</p>
            <ul>
                <li>Used only to fetch weather data from our weather service provider</li>
                <li>Not stored on our servers</li>
                <li>Not shared with third parties for marketing purposes</li>
            </ul>

            <h2>Third-Party Services</h2>
            <p>We use WeatherAPI.com to provide weather data. When you use Clearsky, your approximate location is sent to this service to retrieve weather information. Please refer to <a href="https://www.weatherapi.com/privacy.aspx">WeatherAPI's Privacy Policy</a> for details on how they handle data.</p>

            <h2>Data Storage</h2>
            <p>Clearsky does not store any personal information on external servers. All app preferences are stored locally on your device.</p>

            <h2>Your Rights</h2>
            <p>You can disable location access for Clearsky at any time through your device's Settings. The app will not function without location access as it is required to provide weather data.</p>

            <h2>Children's Privacy</h2>
            <p>Clearsky does not knowingly collect personal information from children under 13.</p>

            <h2>Changes to This Policy</h2>
            <p>We may update this policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.</p>

            <h2>Contact</h2>
            <p>If you have questions about this Privacy Policy, please <a href="#" onclick="showPage('support')">contact us</a>.</p>
        </main>
    </div>

    <!-- Support (Required by Apple) -->
    <div id="support" class="page">
        <main>
            <h1>Support</h1>
            <p class="meta">We're here to help</p>

            <h2>Frequently Asked Questions</h2>
            
            <h2>Why does Clearsky need my location?</h2>
            <p>Clearsky uses your location to fetch accurate weather data for where you are. Without location access, the app cannot provide weather information.</p>

            <h2>How do I enable location access?</h2>
            <p>Go to Settings → Privacy & Security → Location Services → Clearsky, then select "While Using the App".</p>

            <h2>The weather seems inaccurate</h2>
            <p>Weather data is provided by WeatherAPI.com. If you notice consistent inaccuracies, please let us know through the contact form below.</p>

            <h2>Contact Us</h2>
            <div class="contact-form">
                <form action="mailto:support@clearsky.app" method="post" enctype="text/plain">
                    <div class="form-group">
                        <label for="email">Your Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="topic">Topic</label>
                        <select id="topic" name="topic">
                            <option>General Question</option>
                            <option>Bug Report</option>
                            <option>Feature Request</option>
                            <option>Privacy Concern</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <button type="submit">Send Message</button>
                </form>
            </div>
        </main>
    </div>

    <footer>
        <p>© 2024 Neurosic. All rights reserved.</p>
    </footer>

    <script>
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
        }
        
        const API_KEY = '21c3b8e41573423fbea85250252602';
        
        function getWeather() {
            const loading = document.getElementById('weatherLoading');
            const content = document.getElementById('weatherContent');
            const error = document.getElementById('weatherError');
            
            loading.style.display = 'block';
            content.style.display = 'none';
            error.style.display = 'none';
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        fetchWeather(position.coords.latitude, position.coords.longitude);
                    },
                    err => {
                        showWeatherError('Location access denied');
                    },
                    { timeout: 10000 }
                );
            } else {
                showWeatherError('Location not supported');
            }
        }
        
        async function fetchWeather(lat, lon) {
            try {
                const location = `${lat},${lon}`;
                const response = await fetch(
                    `https://api.weatherapi.com/v1/current.json?key=${API_KEY}&q=${encodeURIComponent(location)}&aqi=no`
                );
                if (!response.ok) throw new Error('Failed');
                const data = await response.json();
                
                document.getElementById('homeCity').textContent = data.location.name;
                document.getElementById('homeCondition').textContent = data.current.condition.text.toLowerCase();
                document.getElementById('homeTemp').textContent = Math.round(data.current.temp_c) + '°';
                
                document.getElementById('weatherLoading').style.display = 'none';
                document.getElementById('weatherContent').style.display = 'block';
            } catch (err) {
                showWeatherError('Weather unavailable');
            }
        }
        
        function showWeatherError(msg) {
            document.getElementById('weatherLoading').style.display = 'none';
            document.getElementById('weatherErrorMsg').textContent = msg;
            document.getElementById('weatherError').style.display = 'block';
        }
        
        document.addEventListener('DOMContentLoaded', getWeather);
    </script>
</body>
</html>
